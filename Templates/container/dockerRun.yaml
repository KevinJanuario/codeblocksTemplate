parameters:
  - name: buildType
    default: ''
 
steps:
- script: |
    docker pull yamandevops/debian:9 
    docker run -d --name $(Build.Repository.Name) -v /home/yaman/myagent/_work/7/s/:/opt/app -it docker.io/yamandevops/debian:9 /bin/bash
    docker exec -it $(Build.Repository.Name) bash
    cd /opt/app/Trunk/C-Fontes/ptptrpro
    make -f Makefile.FreeImage all
    pwd
 
  displayName: 'Execute Script inside Container'
  condition: succeeded()
  continueOnError: false
 
- task: PublishBuildArtifacts@1
  displayName: "Publish image debian 9"
  condition: succeededOrFailed()
  inputs:
    PathtoPublish: "$(Build.ArtifactStagingDirectory)/debian-9"
    ArtifactName: "debian-9"
    publishLocation: "Container"