---
parameters:
  - name: buildType
    default: ''


steps:
  container: 
    image: yamandevops/debian:9
  - script: |
      pwd
      # docker pull yamandevops/debian:9

      # docker run -d yamandevops/debian:9

      # docker run -v $(pwd):/opt/app -it yamandevops/debian:9 /bin/bash
      # docker ps

      # pwd
      # ls -lia /opt/app

      # $projectPath = "/opt/app/C-Fontes/ptptrpro"
      # Write-Host "$projectPath"

      # cd $projectPath 

      # make -f Makefile.freeimage all

  displayName: 'Run Docker container'
  condition: succeeded()
  continueOnError: false

- task: PublishBuildArtifacts@1
  displayName: "Publish image debian 9"
  condition: succeededOrFailed()
  inputs:
    PathtoPublish: "$(Build.ArtifactStagingDirectory)/debian-9"
    ArtifactName: "debian-9"
    publishLocation: "Container"
