---
parameters:
  - name: buildType
    default: 'c'

steps:
  - ${{ if eq(parameters.buildType, 'c') }}:
      - task: PublishBuildArtifacts@1
        inputs:
          pathToPublish: '$(Artifact)'
          artifactName: 'artifact-${{ parameters.buildType }}'
        condition: succeeded()
        displayName: 'Publish Artifacts'

      - download: current
        artifact: artifact-${{ parameters.buildType }}
        patterns: '**/*'

  - bash: |
        ls -lart
        #curl -u $(nexusUser):$(nexusPass) --upload-file $artifact $(nesusHost)/repository/perto/$artifact
    displayName: 'Upload file to Nesus'
